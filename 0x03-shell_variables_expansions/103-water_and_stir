#!/bin/bash

# Define custom bases
base_water="ewatr"
base_stir="itir"
base_bestchol="bestchol"

# Function to convert from custom base to decimal
custom_to_decimal() {
    local input="$1"
    local base_chars="$2"
    local base=${#base_chars}
    local length=${#input}
    local value=0

    for (( i=0; i<length; i++ )); do
        char="${input:$i:1}"
        digit=$(expr index "$base_chars" "$char" - 1)
        value=$((value * base + digit))
    done

    echo "$value"
}

# Function to convert from decimal to custom base
decimal_to_custom() {
    local number=$1
    local base_chars="$2"
    local base=${#base_chars}
    local result=""

    while [ "$number" -gt 0 ]; do
        remainder=$((number % base))
        result="${base_chars:$remainder:1}$result"
        number=$((number / base))
    done

    echo "${result:-${base_chars:0:1}}"
}

# Convert input values to decimal
dec_water=$(custom_to_decimal "$WATER" "$base_water")
dec_stir=$(custom_to_decimal "$STIR" "$base_stir")

# Add the numbers
sum=$((dec_water + dec_stir))

# Convert result to bestchol base
decimal_to_custom "$sum" "$base_bestchol"
